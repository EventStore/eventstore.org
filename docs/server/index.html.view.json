{"conceptual":"\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">Event Store runs as a server that clients can connect to either <a href=\"~/http-api/index.md\" data-raw-source=\"[over HTTP](~/http-api/index.md)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">over HTTP</a> or using <a href=\"~/getting-started/which-api-sdk.md\" data-raw-source=\"[one of the client APIs](~/getting-started/which-api-sdk.md)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">one of the client APIs</a>. You can run both the open source and commercial versions as either a single node or a highly available cluster of nodes.</p>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"9\" sourceendlinenumber=\"9\">We distribute an <a href=\"https://eventstore.org/downloads\" data-raw-source=\"[open source version of Event Store](https://eventstore.org/downloads)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"9\" sourceendlinenumber=\"9\">open source version of Event Store</a> as a console application. There are separate distributions for Windows on .NET and Linux/macOS on Mono.</p>\n<h2 id=\"install-and-run-event-store\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"1\" sourceendlinenumber=\"1\">Install and run Event Store</h2>\n<div class=\"NOTE\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"3\" sourceendlinenumber=\"3\"><h5>Note</h5><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">Unless you pass a database option with <code>--db</code>, Event Store writes to a new database created in the host system&#39;s temporary files path each time it is started. For more information on Command Line Arguments read <a href=\"~/server/command-line-arguments.md\" data-raw-source=\"[this guide](~/server/command-line-arguments.md)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">this guide</a>.</p>\n</div>\n<div class=\"tabGroup\" id=\"tabgroup_Imwg03Et86\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"90\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_Imwg03Et86_tabid-1\" role=\"tab\" aria-controls=\"tabpanel_Imwg03Et86_tabid-1\" data-tab=\"tabid-1\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">Windows</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_Imwg03Et86_tabid-2\" role=\"tab\" aria-controls=\"tabpanel_Imwg03Et86_tabid-2\" data-tab=\"tabid-2\" tabindex=\"-1\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"33\">Linux</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_Imwg03Et86_tabid-3\" role=\"tab\" aria-controls=\"tabpanel_Imwg03Et86_tabid-3\" data-tab=\"tabid-3\" tabindex=\"-1\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"58\" sourceendlinenumber=\"58\">Docker</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_Imwg03Et86_tabid-k8\" role=\"tab\" aria-controls=\"tabpanel_Imwg03Et86_tabid-k8\" data-tab=\"tabid-k8\" tabindex=\"-1\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"66\" sourceendlinenumber=\"66\">Kubernetes</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_Imwg03Et86_tabid-macos\" role=\"tab\" aria-controls=\"tabpanel_Imwg03Et86_tabid-macos\" data-tab=\"tabid-macos\" tabindex=\"-1\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"80\" sourceendlinenumber=\"80\">macOS</a>\n</li>\n</ul>\n<section id=\"tabpanel_Imwg03Et86_tabid-1\" role=\"tabpanel\" data-tab=\"tabid-1\">\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">The prerequisites for Installing on Windows are:</p>\n<ul sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"11\">\n<li sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">NET Framework 4.0+</li>\n<li sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"11\" sourceendlinenumber=\"11\">Windows platform SDK with compilers (v7.1) or Visual C++ installed (Only required for a full build)</li>\n</ul>\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\">Event Store has <a href=\"https://chocolatey.org/packages/eventstore-oss\" data-raw-source=\"[Chocolatey packages](https://chocolatey.org/packages/eventstore-oss)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\">Chocolatey packages</a> available that you can install with the following command:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"17\"><code class=\"lang-powershell\">choco install eventstore-oss\n</code></pre><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"19\" sourceendlinenumber=\"19\">You can also <a href=\"https://eventstore.org/downloads/\" data-raw-source=\"[download](https://eventstore.org/downloads/)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"19\" sourceendlinenumber=\"19\">download</a> a binary, unzip the archive and run from the folder location with an administrator console:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"23\"><code class=\"lang-powershell\">EventStore.ClusterNode.exe --db ./db --log ./logs\n</code></pre><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">This command starts Event Store with the database stored at the path <em>./db</em> and the logs in <em>./logs</em>. You can view further command line arguments in the <a href=\"~/server/index.md\" data-raw-source=\"[server docs](~/server/index.md)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">server docs</a>.</p>\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">Event Store runs in an administration context because it starts an HTTP server through <code>http.sys</code>. For permanent or production instances you need to provide an ACL such as:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"31\"><code class=\"lang-powershell\">netsh http add urlacl url=http://+:2113/ user=DOMAIN\\username\n</code></pre></section>\n<section id=\"tabpanel_Imwg03Et86_tabid-2\" role=\"tabpanel\" data-tab=\"tabid-2\" aria-hidden=\"true\" hidden=\"hidden\">\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"35\">The prerequisites for Installing on Linux are:</p>\n<ul sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">\n<li sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">We recommend <a href=\"https://www.mono-project.com/download/stable/\" data-raw-source=\"[Mono 5.16.0](https://www.mono-project.com/download/stable/)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">Mono 5.16.0</a>, but other versions may also work.</li>\n</ul>\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\">Event Store has pre-built <a href=\"https://packagecloud.io/EventStore/EventStore-OSS\" data-raw-source=\"[packages available for Debian-based distributions](https://packagecloud.io/EventStore/EventStore-OSS)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\">packages available for Debian-based distributions</a>, <a href=\"https://packagecloud.io/EventStore/EventStore-OSS/install#bash-rpm\" data-raw-source=\"[manual instructions for distributions that use RPM](https://packagecloud.io/EventStore/EventStore-OSS/install#bash-rpm)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\">manual instructions for distributions that use RPM</a>, or you can <a href=\"https://github.com/EventStore/EventStore#linux\" data-raw-source=\"[build from source](https://github.com/EventStore/EventStore#linux)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\">build from source</a>. The final package name to install is <code>eventstore-oss</code>.</p>\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">If you installed from a pre-built package, start Event Store with:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"43\" sourceendlinenumber=\"45\"><code class=\"lang-bash\">sudo systemctl start eventstore\n</code></pre><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"47\" sourceendlinenumber=\"47\">When you install the Event Store package, the service doesn&#39;t start by default. This is to allow you to change the configuration, located at <em>/etc/eventstore/eventstore.conf</em> and to prevent creating a default database.</p>\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"49\" sourceendlinenumber=\"49\">In all other cases you can run the Event Store binary or use our <em>run-node.sh</em> shell script which exports the environment variable <code>LD_LIBRARY_PATH</code> to include the installation path of Event Store, which is necessary if you are planning to use projections.</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"51\" sourceendlinenumber=\"53\"><code class=\"lang-bash\">./run-node.sh --db ./ESData\n</code></pre><div class=\"NOTE\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"55\" sourceendlinenumber=\"55\"><h5>Note</h5><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"56\" sourceendlinenumber=\"56\">We recommend that when using Linux you set the &#39;open file limit&#39; to a high number. The precise value depends on your use case, but at least between <code>30,000</code> and <code>60,000</code>.</p>\n</div>\n</section>\n<section id=\"tabpanel_Imwg03Et86_tabid-3\" role=\"tabpanel\" data-tab=\"tabid-3\" aria-hidden=\"true\" hidden=\"hidden\">\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"60\" sourceendlinenumber=\"60\">Event Store has <a href=\"https://hub.docker.com/r/eventstore/eventstore/\" data-raw-source=\"[a Docker image](https://hub.docker.com/r/eventstore/eventstore/)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"60\" sourceendlinenumber=\"60\">a Docker image</a> available for any platform that supports Docker:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"62\" sourceendlinenumber=\"64\"><code class=\"lang-bash\">docker run --name eventstore-node -it -p 2113:2113 -p 1113:1113 eventstore/eventstore\n</code></pre></section>\n<section id=\"tabpanel_Imwg03Et86_tabid-k8\" role=\"tabpanel\" data-tab=\"tabid-k8\" aria-hidden=\"true\" hidden=\"hidden\">\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"68\" sourceendlinenumber=\"68\">Event Store has <a href=\"https://github.com/EventStore/EventStore.Charts\" data-raw-source=\"[a Helm chart](https://github.com/EventStore/EventStore.Charts)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"68\" sourceendlinenumber=\"68\">a Helm chart</a> available for installing Event Store on Kubernetes clusters:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"70\" sourceendlinenumber=\"74\"><code class=\"lang-bash\">helm repo add eventstore https://eventstore.github.io/EventStore.Charts\nhelm repo update\nhelm install -n eventstore eventstore/eventstore\n</code></pre><div class=\"NOTE\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"76\" sourceendlinenumber=\"76\"><h5>Note</h5><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"77\" sourceendlinenumber=\"78\">Read <a href=\"https://github.com/EventStore/EventStore.Charts/blob/master/stable/eventstore/README.md\" data-raw-source=\"[this guide](https://github.com/EventStore/EventStore.Charts/blob/master/stable/eventstore/README.md)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"77\" sourceendlinenumber=\"77\">this guide</a> for more details on how to use the helm chart.\nRead <a href=\"~/server/deploy-kubernetes-aks.md\" data-raw-source=\"[this guide](~/server/deploy-kubernetes-aks.md)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"78\" sourceendlinenumber=\"78\">this guide</a> for more details on using Kubernetes with AKS and this guide for more details on using Kubernetes with GKE.</p>\n</div>\n</section>\n<section id=\"tabpanel_Imwg03Et86_tabid-macos\" role=\"tabpanel\" data-tab=\"tabid-macos\" aria-hidden=\"true\" hidden=\"hidden\">\n<p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"82\" sourceendlinenumber=\"82\">Event Store has a macOS package <a href=\"https://eventstore.org/downloads/\" data-raw-source=\"[you can download](https://eventstore.org/downloads/)\" sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"82\" sourceendlinenumber=\"82\">you can download</a> and install, and we maintain a Homebrew Cask formula you can install:</p>\n<pre sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"84\" sourceendlinenumber=\"86\"><code class=\"lang-shell\">brew cask install eventstore\n</code></pre><p sourcefile=\"~/partials/_install-run.md\" sourcestartlinenumber=\"88\" sourceendlinenumber=\"88\">In each case you can run Event Store with the <code>eventstore</code> command, and stop it with <code>Ctrl+c</code>. To use the default database location you need to use <code>sudo</code>, or you can change the location with the <code>--db</code> parameter.</p>\n</section>\n</div>\n<h2 id=\"solving-503-errors-from-the-admin-ui\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\">Solving 503 errors from the Admin UI</h2>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">There is a <a href=\"http://stackoverflow.com/questions/8142396/what-causes-a-httplistener-http-503-error\" data-raw-source=\"[known issue](http://stackoverflow.com/questions/8142396/what-causes-a-httplistener-http-503-error)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">known issue</a> with the .NET <code>HTTPListener</code> class (which Event Store uses) and bad URL ACL registrations which can cause servers to return 503 errors for every request. If you see this, you can issue the following commands:</p>\n<pre sourcefile=\"server/index.md\" sourcestartlinenumber=\"17\" sourceendlinenumber=\"19\"><code class=\"lang-posh\">netsh http show urlacl\n</code></pre><p sourcefile=\"server/index.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"21\">Look for an entry on the port you&#39;re trying to use (<code>2113</code> unless you&#39;ve specified a custom port), then issue:</p>\n<pre sourcefile=\"server/index.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"25\"><code class=\"lang-posh\">netsh http delete urlacl &lt;the entry you just found&gt;\n</code></pre><p sourcefile=\"server/index.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">For example:</p>\n<pre sourcefile=\"server/index.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"31\"><code class=\"lang-posh\">netsh http delete urlacl http://+:2113/\n</code></pre><p sourcefile=\"server/index.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"33\">These steps should resolve the issue.</p>\n<h2 id=\"shutting-down-an-event-store-node\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"35\" sourceendlinenumber=\"35\">Shutting down an Event Store node</h2>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">Event Store is designed to be safe by default, and it is expected that it will be shut down using <code>kill -9</code>. It is also possible to initiate a shutdown via the Admin UI, by clicking on the <em>Shutdown Server</em> button located on the <em>Admin</em> page. This may be useful if you do not have console access to the node or need to script initiating a shutdown.</p>\n<h2 id=\"securing-event-store\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\">Securing Event Store</h2>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">To secure Event Store, you can bind the server to the localhost interface and install a reverse proxy such as <a href=\"http://nginx.org\" data-raw-source=\"[nginx](http://nginx.org)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">nginx</a> or <a href=\"https://www.varnish-cache.org\" data-raw-source=\"[Varnish](https://www.varnish-cache.org)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">Varnish</a> on the public IP. Read <a href=\"~/server/setting-up-varnish-in-linux.md\" data-raw-source=\"[this guide](~/server/setting-up-varnish-in-linux.md)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\">this guide</a> for an example of setting up Event Store with Varnish.</p>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"43\" sourceendlinenumber=\"43\">The reverse proxy is your public interface. Internally it handles the authentication and route requests to Event Store. Event Store is only accessible through the localhost adapter and is not exposed publicly. The locally running reverse proxy is allowed to cache responses, and because of this, reverse proxies are more performant than calling Event Store directly.</p>\n<p sourcefile=\"server/index.md\" sourcestartlinenumber=\"45\" sourceendlinenumber=\"45\">Even if you use a reverse proxy, you can support external authentication from Event Store itself. You do this by enabling the <a href=\"~/http-api/optional-http-headers/trusted-intermediary.md\" data-raw-source=\"[ES-TrustedAuth](~/http-api/optional-http-headers/trusted-intermediary.md)\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"45\" sourceendlinenumber=\"45\">ES-TrustedAuth</a> trusted intermediary option in your configuration. This allows the intermediary to write a header with the user information that Event Store uses.</p>\n","type":"Conceptual","source":{"remote":{"path":"server/index.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"server/index.md","documentation":{"remote":{"path":"server/index.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Running Event Store","rawTitle":"<h1 id=\"running-event-store\" sourcefile=\"server/index.md\" sourcestartlinenumber=\"5\" sourceendlinenumber=\"5\">Running Event Store</h1>","outputFileName":"index.html","wordCount":876.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../","_path":"server/index.html","_key":"server/index.md","_navRel":"../toc.html","_tocRel":"../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/server/index.md/#L1"}