{"conceptual":"\n<h2 id=\"default-users\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">Default Users</h2>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"9\" sourceendlinenumber=\"9\">Event Store provides two default users, <code>$ops</code> and <code>$admin</code>.</p>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"11\" sourceendlinenumber=\"11\"><code>$admin</code> has full access to everything in Event Store. It can read and write to protected streams, which is any stream that starts with $, such as <code>$projections-master</code>. Protected streams are usually system streams, for example, <code>$projections-master</code> manages some of the projections&#39; states. The <code>$admin</code> user can also run operational commands, such as scavenges and shutdowns on Event Store.</p>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\"><code>$ops</code> can run operational commands like the <code>$admin</code> user, but cannot read protected streams.</p>\n<h2 id=\"new-users\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">New Users</h2>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"17\" sourceendlinenumber=\"17\">New users created in Event Store are standard users. They can&#39;t read protected streams or perform operations. If you add a user into the <code>$ops</code> or <code>$admins</code> group, they have the same level of access as those users.</p>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"19\" sourceendlinenumber=\"19\">By default, any user can read any non-protected stream unless there is an ACL preventing that.</p>\n<h2 id=\"stream-acls\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"21\">Stream ACLs</h2>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">Event Store keeps the ACL of a stream in the streams <a href=\"~/server/metadata-and-reserved-names.md\" data-raw-source=\"[metadata](~/server/metadata-and-reserved-names.md)\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">metadata</a> as JSON with the below definition:</p>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"35\"><code class=\"lang-json\">{\n  &quot;$acl&quot;: {\n    &quot;$w&quot;: &quot;$admins&quot;,\n    &quot;$r&quot;: &quot;$all&quot;,\n    &quot;$d&quot;: &quot;$admins&quot;,\n    &quot;$mw&quot;: &quot;$admins&quot;,\n    &quot;$mr&quot;: &quot;$admins&quot;\n  }\n}\n</code></pre><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">These fields represent the following:</p>\n<ul sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"43\">\n<li sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"39\"><code>$w</code> The permission to write to this stream.</li>\n<li sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"40\" sourceendlinenumber=\"40\"><code>$r</code> The permission to read from this stream.</li>\n<li sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"41\" sourceendlinenumber=\"41\"><code>$d</code> The permission to delete this stream.</li>\n<li sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"42\" sourceendlinenumber=\"42\"><code>$mw</code> The permission to write the metadata associated with this stream.</li>\n<li sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"43\" sourceendlinenumber=\"43\"><code>$mr</code> The permission to read the metadata associated with this stream.</li>\n</ul>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"45\" sourceendlinenumber=\"45\">You can update these fields with either a single string or an array of strings representing users or groups (<code>$admins</code>, <code>$all</code>, or custom groups). It&#39;s possible to put an empty array into one of these fields, and this has the effect of removing all users from that permission.</p>\n<div class=\"NOTE\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"47\" sourceendlinenumber=\"47\"><h5>Note</h5><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"48\" sourceendlinenumber=\"48\">We recommend you don&#39;t give people access to <code>$mw</code> as then they can then change the ACL.</p>\n</div>\n<h3 id=\"example\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"50\" sourceendlinenumber=\"50\">Example</h3>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"52\" sourceendlinenumber=\"52\">The ACL below would give <code>writer</code> read and write permission on the stream, while <code>reader</code> would have read permission on the stream. Only users in the <code>$admins</code> group would be able to delete the stream or read and write the metadata.</p>\n<div class=\"tabGroup\" id=\"tabgroup_O8ucbqjusK\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"54\" sourceendlinenumber=\"87\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK_tabid-http\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK_tabid-http\" data-tab=\"tabid-http\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"54\" sourceendlinenumber=\"54\">HTTP API</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK_tabid-8\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK_tabid-8\" data-tab=\"tabid-8\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"62\" sourceendlinenumber=\"62\">Response</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK_tabid-net\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK_tabid-net\" data-tab=\"tabid-net\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"66\" sourceendlinenumber=\"66\">.NET API</a>\n</li>\n</ul>\n<section id=\"tabpanel_O8ucbqjusK_tabid-http\" role=\"tabpanel\" data-tab=\"tabid-http\">\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"56\" sourceendlinenumber=\"56\">Inside a file named <em>metadata.json</em>:</p>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"58\" sourceendlinenumber=\"58\"><code class=\"lang-json\" name=\"http-api-metadata-json\">[\n    {\n        &quot;eventId&quot;: &quot;7c314750-05e1-439f-b2eb-f5b0e019be72&quot;,\n        &quot;eventType&quot;: &quot;update-acl&quot;,\n        &quot;metadata&quot;: {\n            &quot;$acl&quot;: {\n                &quot;$w&quot;: &quot;writer&quot;,\n                &quot;$r&quot;: [\n                    &quot;reader&quot;,\n                    &quot;also-reader&quot;\n                ],\n                &quot;$d&quot;: &quot;$admins&quot;,\n                &quot;$mw&quot;: &quot;$admins&quot;,\n                &quot;$mr&quot;: &quot;$admins&quot;\n            }\n        }\n    }\n]\n</code></pre><pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"60\" sourceendlinenumber=\"60\"><code class=\"lang-bash\" name=\"http-api-update-metadata-request\">curl -i -d @metadata.json http://127.0.0.1:2113/streams/newstream/metadata --user admin:changeit -H &quot;Content-Type: application/vnd.eventstore.events+json&quot;\n</code></pre></section>\n<section id=\"tabpanel_O8ucbqjusK_tabid-8\" role=\"tabpanel\" data-tab=\"tabid-8\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"64\" sourceendlinenumber=\"64\"><code class=\"lang-json\" name=\"http-api-update-metadata-response\">HTTP/1.1 201 Created\nAccess-Control-Allow-Methods: GET, POST, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-Forwarded-Host, X-Forwarded-Prefix, X-PINGOTHER, Authorization, ES-LongPoll, ES-ExpectedVersion, ES-EventId, ES-EventType, ES-RequiresMaster, ES-HardDelete, ES-ResolveLinkTos\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Location, ES-Position, ES-CurrentVersion\nLocation: http://127.0.0.1:2113/streams/%24%24newstream/0\nContent-Type: text/plain; charset=utf-8\nServer: Mono-HTTPAPI/1.0\nDate: Tue, 18 Sep 2018 09:38:56 GMT\nContent-Length: 0\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n<section id=\"tabpanel_O8ucbqjusK_tabid-net\" role=\"tabpanel\" data-tab=\"tabid-net\" aria-hidden=\"true\" hidden=\"hidden\">\n<!-- TODO: Refactor into demo application -->\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"70\" sourceendlinenumber=\"85\"><code class=\"lang-csharp\">StreamMetadata metadata = StreamMetadata.Build()\n    .SetCustomPropertyWithValueAsRawJsonString(&quot;customRawJson&quot;,\n        @&quot;{\n            &quot;&quot;$acl&quot;&quot;: {\n                &quot;&quot;$w&quot;&quot;: &quot;&quot;writer&quot;&quot;,\n                &quot;&quot;$r&quot;&quot;: [\n                    &quot;&quot;reader&quot;&quot;,\n                    &quot;&quot;also-reader&quot;&quot;\n                ],\n                &quot;&quot;$d&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$mw&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$mr&quot;&quot;: &quot;&quot;$admins&quot;&quot;\n    }}&quot;);\nconn.SetStreamMetadataAsync(streamName, ExpectedVersion.Any, metadata, adminCredentials);\n</code></pre></section>\n</div>\n<h2 id=\"default-acl\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"89\" sourceendlinenumber=\"89\">Default ACL</h2>\n<p sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"1\" sourceendlinenumber=\"1\">The <code>$settings</code> stream has a special ACL used as the default ACL. This stream controls the default ACL for streams without an ACL and also controls who can create streams in the system, the default state of these is shown below:</p>\n<pre sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"3\" sourceendlinenumber=\"20\"><code class=\"lang-json\">{\n  &quot;$userStreamAcl&quot;: {\n    &quot;$r&quot;: &quot;$all&quot;,\n    &quot;$w&quot;: &quot;$all&quot;,\n    &quot;$d&quot;: &quot;$all&quot;,\n    &quot;$mr&quot;: &quot;$all&quot;,\n    &quot;$mw&quot;: &quot;$all&quot;\n  },\n  &quot;$systemStreamAcl&quot;: {\n    &quot;$r&quot;: &quot;$admins&quot;,\n    &quot;$w&quot;: &quot;$admins&quot;,\n    &quot;$d&quot;: &quot;$admins&quot;,\n    &quot;$mr&quot;: &quot;$admins&quot;,\n    &quot;$mw&quot;: &quot;$admins&quot;\n  }\n}\n</code></pre><p sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"22\">The <code>$userStreamAcl</code> controls the default ACL for user streams, while all system streams use the <code>$systemStreamAcl</code> as the default.</p>\n<div class=\"NOTE\" sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"24\" sourceendlinenumber=\"24\"><h5>Note</h5><p sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">The <code>$w</code> in <code>$userStreamAcl</code> also applies to the ability to create a stream. Members of <code>$admins</code> always have access to everything, you cannot remove this permission.</p>\n</div>\n<p sourcefile=\"~/partials/_settings-acl.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">When you set a permission on a stream, it overrides the default values. However, it&#39;s not necessary to specify all permissions on a stream. It&#39;s only necessary to specify those which differ from the default.</p>\n<h3 id=\"example-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"93\" sourceendlinenumber=\"93\">Example</h3>\n<div class=\"NOTE\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"95\" sourceendlinenumber=\"95\"><h5>Note</h5><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"96\" sourceendlinenumber=\"96\">All these examples assume you have created a user named <code>ouro</code>. The examples also assume the password is <code>ouroboros</code>.</p>\n</div>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"98\" sourceendlinenumber=\"115\"><code class=\"lang-json\">{\n  &quot;$userStreamAcl&quot;: {\n    &quot;$r&quot;: &quot;$all&quot;,\n    &quot;$w&quot;: &quot;ouro&quot;,\n    &quot;$d&quot;: &quot;ouro&quot;,\n    &quot;$mr&quot;: &quot;ouro&quot;,\n    &quot;$mw&quot;: &quot;ouro&quot;\n  },\n  &quot;$systemStreamAcl&quot;: {\n    &quot;$r&quot;: &quot;$admins&quot;,\n    &quot;$w&quot;: &quot;$admins&quot;,\n    &quot;$d&quot;: &quot;$admins&quot;,\n    &quot;$mr&quot;: &quot;$admins&quot;,\n    &quot;$mw&quot;: &quot;$admins&quot;\n  }\n}\n</code></pre><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"117\" sourceendlinenumber=\"117\">This default ACL would give <code>ouro</code> and <code>$admins</code> create and write permissions on all streams, while everyone else can read from them. Be careful allowing default access to system streams to non-admins as they would also have access to <code>$settings</code> unless you specifically override it.</p>\n<div class=\"tabGroup\" id=\"tabgroup_O8ucbqjusK-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"119\" sourceendlinenumber=\"158\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-1_tabid-1\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-1_tabid-1\" data-tab=\"tabid-1\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"119\" sourceendlinenumber=\"119\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-1_tabid-2\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-1_tabid-2\" data-tab=\"tabid-2\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"128\" sourceendlinenumber=\"128\">Response</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-1_tabid-net2\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-1_tabid-net2\" data-tab=\"tabid-net2\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"132\" sourceendlinenumber=\"132\">.NET API</a>\n</li>\n</ul>\n<section id=\"tabpanel_O8ucbqjusK-1_tabid-1\" role=\"tabpanel\" data-tab=\"tabid-1\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"121\" sourceendlinenumber=\"121\"><code class=\"lang-json\" name=\"http-api-metadata-json\">[\n    {\n        &quot;eventId&quot;: &quot;7c314750-05e1-439f-b2eb-f5b0e019be72&quot;,\n        &quot;eventType&quot;: &quot;update-default-acl&quot;,\n        &quot;metadata&quot;: {\n            &quot;$userStreamAcl&quot;: {\n                &quot;$r&quot;: &quot;$all&quot;,\n                &quot;$w&quot;: &quot;ouro&quot;,\n                &quot;$d&quot;: &quot;ouro&quot;,\n                &quot;$mr&quot;: &quot;ouro&quot;,\n                &quot;$mw&quot;: &quot;ouro&quot;\n            },\n            &quot;$systemStreamAcl&quot;: {\n                &quot;$r&quot;: &quot;$admins&quot;,\n                &quot;$w&quot;: &quot;$admins&quot;,\n                &quot;$d&quot;: &quot;$admins&quot;,\n                &quot;$mr&quot;: &quot;$admins&quot;,\n                &quot;$mw&quot;: &quot;$admins&quot;\n            }\n        }\n    }\n]\n</code></pre><pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"123\" sourceendlinenumber=\"123\"><code class=\"lang-bash\" name=\"http-api-update-metadata-request\">curl -i -d @override-default.json http://127.0.0.1:2113/streams/%24settings/metadata --user admin:changeit -H &quot;Content-Type: application/vnd.eventstore.events+json&quot;\n</code></pre><div class=\"WARNING\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"125\" sourceendlinenumber=\"125\"><h5>Warning</h5><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"126\" sourceendlinenumber=\"126\">You should not copy/paste the UUID in the command line above but generate a new one or not provide one (you will be redirected to a URI with one as described in writing events in the HTTP API).</p>\n</div>\n</section>\n<section id=\"tabpanel_O8ucbqjusK-1_tabid-2\" role=\"tabpanel\" data-tab=\"tabid-2\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"130\" sourceendlinenumber=\"130\"><code class=\"lang-json\" name=\"http-api-update-metadata-response\">HTTP/1.1 201 Created\nAccess-Control-Allow-Methods: GET, POST, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-Forwarded-Host, X-Forwarded-Prefix, X-PINGOTHER, Authorization, ES-LongPoll, ES-ExpectedVersion, ES-EventId, ES-EventType, ES-RequiresMaster, ES-HardDelete, ES-ResolveLinkTos\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Location, ES-Position, ES-CurrentVersion\nLocation: http://127.0.0.1:2113/streams/%24%24%24users/0\nContent-Type: text/plain; charset=utf-8\nServer: Mono-HTTPAPI/1.0\nDate: Thu, 23 Aug 2018 10:35:19 GMT\nContent-Length: 0\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n<section id=\"tabpanel_O8ucbqjusK-1_tabid-net2\" role=\"tabpanel\" data-tab=\"tabid-net2\" aria-hidden=\"true\" hidden=\"hidden\">\n<!-- TODO: Refactor into demo application -->\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"136\" sourceendlinenumber=\"156\"><code class=\"lang-csharp\">StreamMetadata metadata = StreamMetadata.Build()\n    .SetCustomPropertyWithValueAsRawJsonString(&quot;customRawJson&quot;,\n        @&quot;{\n            &quot;&quot;$userStreamAcl&quot;&quot;: {\n                &quot;&quot;$r&quot;&quot;: &quot;&quot;$all&quot;&quot;,\n                &quot;&quot;$w&quot;&quot;: &quot;&quot;ouro&quot;&quot;,\n                &quot;&quot;$d&quot;&quot;: &quot;&quot;ouro&quot;&quot;,\n                &quot;&quot;$mr&quot;&quot;: &quot;&quot;ouro&quot;&quot;,\n                &quot;&quot;$mw&quot;&quot;: &quot;&quot;ouro&quot;&quot;\n            },\n            &quot;&quot;$systemStreamAcl&quot;&quot;: {\n                &quot;&quot;$r&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$w&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$d&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$mr&quot;&quot;: &quot;&quot;$admins&quot;&quot;,\n                &quot;&quot;$mw&quot;&quot;: &quot;&quot;$admins&quot;&quot;\n            }\n    }}&quot;);\nconn.SetStreamMetadataAsync(&quot;%24settings&quot;, ExpectedVersion.Any, metadata, adminCredentials);\n</code></pre></section>\n</div>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"160\" sourceendlinenumber=\"160\">If you try to access the <code>$settings</code> stream as an unauthorized user, Event Store returns a 401 response.</p>\n<div class=\"tabGroup\" id=\"tabgroup_O8ucbqjusK-2\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"162\" sourceendlinenumber=\"184\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-2_tabid-3\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-2_tabid-3\" data-tab=\"tabid-3\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"162\" sourceendlinenumber=\"162\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-2_tabid-4\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-2_tabid-4\" data-tab=\"tabid-4\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"168\" sourceendlinenumber=\"168\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_O8ucbqjusK-2_tabid-3\" role=\"tabpanel\" data-tab=\"tabid-3\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"164\" sourceendlinenumber=\"166\"><code class=\"lang-bash\">curl -i http://127.0.0.1:2113/streams/%24settings -u ouro:ouroboros\n</code></pre></section>\n<section id=\"tabpanel_O8ucbqjusK-2_tabid-4\" role=\"tabpanel\" data-tab=\"tabid-4\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"170\" sourceendlinenumber=\"182\"><code class=\"lang-http\">HTTP/1.1 401 Unauthorized\nAccess-Control-Allow-Methods: POST, DELETE, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER, Authorization, ES-LongPoll, ES-ExpectedVersion, ES-EventId, ES-EventType, ES-RequiresMaster, ES-HardDelete, ES-ResolveLinkTo, ES-ExpectedVersion\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Location, ES-Position\nWWW-Authenticate: Basic realm=&quot;ES&quot;\nContent-Type: text/plain; charset=utf-8\nServer: Mono-HTTPAPI/1.0\nDate: Mon, 02 Mar 2015 15:21:27 GMT\nContent-Length: 0\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n</div>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"186\" sourceendlinenumber=\"186\">If you wanted to give <code>ouro</code> access by default to system streams, POST the following JSON:</p>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"188\" sourceendlinenumber=\"205\"><code class=\"lang-json\">{\n  &quot;$userStreamAcl&quot;: {\n    &quot;$r&quot;: &quot;$all&quot;,\n    &quot;$w&quot;: &quot;ouro&quot;,\n    &quot;$d&quot;: &quot;ouro&quot;,\n    &quot;$mr&quot;: &quot;ouro&quot;,\n    &quot;$mw&quot;: &quot;ouro&quot;\n  },\n  &quot;$systemStreamAcl&quot;: {\n    &quot;$r&quot;: [&quot;$admins&quot;, &quot;ouro&quot;],\n    &quot;$w&quot;: &quot;$admins&quot;,\n    &quot;$d&quot;: &quot;$admins&quot;,\n    &quot;$mr&quot;: &quot;$admins&quot;,\n    &quot;$mw&quot;: &quot;$admins&quot;\n  }\n}\n</code></pre><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"207\" sourceendlinenumber=\"207\">At which point ouro can read system streams by default:</p>\n<div class=\"tabGroup\" id=\"tabgroup_O8ucbqjusK-3\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"209\" sourceendlinenumber=\"233\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-3_tabid-5\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-3_tabid-5\" data-tab=\"tabid-5\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"209\" sourceendlinenumber=\"209\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_O8ucbqjusK-3_tabid-6\" role=\"tab\" aria-controls=\"tabpanel_O8ucbqjusK-3_tabid-6\" data-tab=\"tabid-6\" tabindex=\"-1\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"215\" sourceendlinenumber=\"215\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_O8ucbqjusK-3_tabid-5\" role=\"tabpanel\" data-tab=\"tabid-5\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"211\" sourceendlinenumber=\"213\"><code class=\"lang-bash\">curl -i http://127.0.0.1:2113/streams/%24settings -u ouro:ouroboros\n</code></pre></section>\n<section id=\"tabpanel_O8ucbqjusK-3_tabid-6\" role=\"tabpanel\" data-tab=\"tabid-6\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"217\" sourceendlinenumber=\"231\"><code class=\"lang-http\">HTTP/1.1 200 OK\nAccess-Control-Allow-Methods: POST, DELETE, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER, Authorization, ES-LongPoll, ES-ExpectedVersion, ES-EventId, ES-EventType, ES-RequiresMaster, ES-HardDelete, ES-ResolveLinkTo, ES-ExpectedVersion\nAccess-Control-Allow-Origin: *\nAccess-Control-Expose-Headers: Location, ES-Position\nCache-Control: max-age=0, no-cache, must-revalidate\nVary: Accept\nETag: &quot;1;-1296467268&quot;\nContent-Type: application/atom+xml; charset=utf-8\nServer: Mono-HTTPAPI/1.0\nDate: Mon, 02 Mar 2015 15:25:17 GMT\nContent-Length: 1286\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n</div>\n<p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"235\" sourceendlinenumber=\"235\">You can also limit ACLs on particular streams which are then merged with the default ACLs.</p>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"237\" sourceendlinenumber=\"243\"><code class=\"lang-json\">{\n  &quot;$acl&quot;: {\n    &quot;$r&quot;: [&quot;reader&quot;, &quot;also-reader&quot;]\n  }\n}\n</code></pre><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"245\" sourceendlinenumber=\"245\">If you add the above to a stream&#39;s ACL, then it overrides the read permission on that stream to allow <code>reader</code> and <code>also-reader</code> to read streams, but not <code>ouro</code>, resulting in the effective ACL below.</p>\n<pre sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"247\" sourceendlinenumber=\"257\"><code class=\"lang-json\">{\n  &quot;$acl&quot;: {\n    &quot;$r&quot;: [&quot;reader&quot;, &quot;also-reader&quot;],\n    &quot;$w&quot;: &quot;ouro&quot;,\n    &quot;$d&quot;: &quot;ouro&quot;,\n    &quot;$mr&quot;: &quot;ouro&quot;,\n    &quot;$mw&quot;: &quot;ouro&quot;\n  }\n}\n</code></pre><div class=\"WARNING\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"259\" sourceendlinenumber=\"259\"><h5>Warning</h5><p sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"260\" sourceendlinenumber=\"260\">Caching is allowed on a stream if you have enabled it to be visible to <code>$all</code>. This is as a performance optimization to avoid having to set <code>cache=private</code> on all data. If people are bookmarking your URIs and they were cached by an intermediary then they may still be accessible after you change the permissions from <code>$all</code>. While clients should not be bookmarking URIs in this way, it&#39;s an important consideration.</p>\n</div>\n","type":"Conceptual","source":{"remote":{"path":"server/users-and-access-control-lists.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"server/users-and-access-control-lists.md","documentation":{"remote":{"path":"server/users-and-access-control-lists.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Users and Access Control Lists","rawTitle":"<h1 id=\"users-and-access-control-lists\" sourcefile=\"server/users-and-access-control-lists.md\" sourcestartlinenumber=\"5\" sourceendlinenumber=\"5\">Users and Access Control Lists</h1>","outputFileName":"index.html","wordCount":1206.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../","_path":"server/users-and-access-control-lists/index.html","_key":"server/users-and-access-control-lists.md","_navRel":"../../toc.html","_tocRel":"../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/server/users-and-access-control-lists.md/#L1"}