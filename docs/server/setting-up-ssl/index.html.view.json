{"conceptual":"\n<h2 id=\"setting-up-ssl-on-windows\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">Setting up SSL on Windows</h2>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">The steps to set up SSL on Windows are as follows.</p>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">First, create a certificate using powershell, and copy the thumbprint from the output</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"14\"><code class=\"lang-powershell\">New-SelfSignedCertificate -DnsName eventstore.org, localhost -CertStoreLocation cert:\\CurrentUser\\My\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"16\" sourceendlinenumber=\"16\">To trust the new certificate, the certificate you have to import the certificate into the Trusted Root Certification Authorities:</p>\n<ol sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"18\" sourceendlinenumber=\"18\">\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"18\" sourceendlinenumber=\"18\">Press <em>WindowsKey + R</em>, and enter &#39;certmgr.msc&#39;.</li>\n</ol>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\"><img src=\"~/images/ssl-step1.png\" alt=\"Open certmgr.msc\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\"></p>\n<ol sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"23\">\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"22\">Navigate to <em>Certificates -&gt; Current User -&gt; Personal -&gt; Certificates</em>.</li>\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">Locate the certificate &#39;eventstore.org&#39;.</li>\n</ol>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\"><img src=\"~/images/ssl-step2.png\" alt=\"Find certificate\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\"></p>\n<ol sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\">\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\"><em>Right click</em> on the certificate and click on <em>All Tasks -&gt; Export</em>. Follow the prompts.</li>\n</ol>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"29\"><img src=\"~/images/ssl-step3.png\" alt=\"Export certificate\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"29\" sourceendlinenumber=\"29\"></p>\n<ol sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"32\">\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">Navigate to <em>Certificates -&gt; Current User -&gt; Trusted Root Certification Authorities -&gt; Certificates</em>.</li>\n<li sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"32\" sourceendlinenumber=\"32\"><em>Right click</em> on the Certificates folder menu item and click <em>All Tasks -&gt; Import</em>. Follow the prompts.</li>\n</ol>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"34\" sourceendlinenumber=\"34\"><img src=\"~/images/ssl-step4.png\" alt=\"Find certificate\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"34\" sourceendlinenumber=\"34\"></p>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"36\" sourceendlinenumber=\"36\">Start Event Store with the following configuration in <a href=\"~/server/command-line-arguments.md#yaml-files\" data-raw-source=\"[a configuration file](~/server/command-line-arguments.md#yaml-files)\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"36\" sourceendlinenumber=\"36\">a configuration file</a>:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"38\" sourceendlinenumber=\"44\"><code class=\"lang-yaml\">CertificateStoreLocation: CurrentUser\nCertificateStoreName: My\nCertificateThumbPrint: {Insert Thumb Print from Step 1}\nCertificateSubjectName: CN=eventstore.org\nExtSecureTcpPort: 1115\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"46\" sourceendlinenumber=\"46\">Connect to Event Store:</p>\n<div class=\"tabGroup\" id=\"tabgroup_7SLl7afSdP\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"48\" sourceendlinenumber=\"65\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_7SLl7afSdP_tabid-6\" role=\"tab\" aria-controls=\"tabpanel_7SLl7afSdP_tabid-6\" data-tab=\"tabid-6\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"48\" sourceendlinenumber=\"48\">.NET API</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_7SLl7afSdP_tabid-7\" role=\"tab\" aria-controls=\"tabpanel_7SLl7afSdP_tabid-7\" data-tab=\"tabid-7\" tabindex=\"-1\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"59\" sourceendlinenumber=\"59\">HTTP API</a>\n</li>\n</ul>\n<section id=\"tabpanel_7SLl7afSdP_tabid-6\" role=\"tabpanel\" data-tab=\"tabid-6\">\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"50\" sourceendlinenumber=\"57\"><code class=\"lang-csharp\">var settings = ConnectionSettings.Create().UseSslConnection(&quot;eventstore.org&quot;, true);\n\nusing (var conn = EventStoreConnection.Create(settings, new IPEndPoint(IPAddress.Loopback, 1115)))\n{\n    conn.ConnectAsync().Wait();\n}\n</code></pre></section>\n<section id=\"tabpanel_7SLl7afSdP_tabid-7\" role=\"tabpanel\" data-tab=\"tabid-7\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"61\" sourceendlinenumber=\"63\"><code class=\"lang-bash\">curl -vk --cert &lt;PATH_TO_CERT&gt; --key &lt;PATH_TO_KEY&gt; -i -d &quot;@event.json&quot; &quot;http://127.0.0.1:2113/streams/newstream&quot; -H &quot;Content-Type:application/vnd.eventstore.events+json&quot;\n</code></pre></section>\n</div>\n<h2 id=\"setting-up-ssl-on-linux\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"67\" sourceendlinenumber=\"67\">Setting up SSL on Linux</h2>\n<div class=\"NOTE\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"69\" sourceendlinenumber=\"69\"><h5>Note</h5><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"70\" sourceendlinenumber=\"70\">This guide uses the latest Ubuntu LTS (18.04)</p>\n</div>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"72\" sourceendlinenumber=\"72\">First, create a private key and self-signed certificate request (This is only for testing purposes)</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"74\" sourceendlinenumber=\"78\"><code class=\"lang-bash\">openssl req \\\n  -x509 -sha256 -nodes -days 365 -subj &quot;/CN=eventstore.org&quot; \\\n  -newkey rsa:2048 -keyout eventstore.pem -out eventstore.csr\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"80\" sourceendlinenumber=\"80\">Export a p12 file from the certificate request. You use this when starting Event Store:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"82\" sourceendlinenumber=\"84\"><code class=\"lang-bash\">openssl pkcs12 -export -inkey eventstore.pem -in eventstore.csr -out eventstore.p12\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"86\" sourceendlinenumber=\"86\">You need to add the certificate to Ubuntu&#39;s trusted certificates. Copy the cert to the <em>ca-certificates</em> folder and update the certificates:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"88\" sourceendlinenumber=\"92\"><code class=\"lang-bash\">sudo cp eventstore.csr /usr/local/share/ca-certificates/eventstore.crt\n\nsudo update-ca-certificates\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"94\" sourceendlinenumber=\"94\">The mono framework has its own separate certificate store which you need to sync with the changes you made to Ubuntu&#39;s certificates.</p>\n<p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"96\" sourceendlinenumber=\"96\">You first need to install <code>mono-devel</code>:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"98\" sourceendlinenumber=\"100\"><code class=\"lang-bash\">sudo apt-get install mono-devel\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"102\" sourceendlinenumber=\"102\">This process installs <code>cert-sync</code>, which you use to update mono&#39;s certificate store with the new certificate:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"104\" sourceendlinenumber=\"106\"><code class=\"lang-bash\">sudo cert-sync eventstore.csr\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"108\" sourceendlinenumber=\"108\">Start Event Store with the following configuration in <a href=\"~/server/command-line-arguments.md#yaml-files\" data-raw-source=\"[a configuration file](~/server/command-line-arguments.md#yaml-files)\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"108\" sourceendlinenumber=\"108\">a configuration file</a>:</p>\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"110\" sourceendlinenumber=\"113\"><code class=\"lang-yaml\">CertificateFile: eventstore.p12\nExtSecureTcpPort: 1115\n</code></pre><p sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"115\" sourceendlinenumber=\"115\">Connect to Event Store:</p>\n<div class=\"tabGroup\" id=\"tabgroup_7SLl7afSdP-1\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"117\" sourceendlinenumber=\"134\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_7SLl7afSdP-1_tabid-8\" role=\"tab\" aria-controls=\"tabpanel_7SLl7afSdP-1_tabid-8\" data-tab=\"tabid-8\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"117\" sourceendlinenumber=\"117\">.NET API</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_7SLl7afSdP-1_tabid-9\" role=\"tab\" aria-controls=\"tabpanel_7SLl7afSdP-1_tabid-9\" data-tab=\"tabid-9\" tabindex=\"-1\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"128\" sourceendlinenumber=\"128\">HTTP API</a>\n</li>\n</ul>\n<section id=\"tabpanel_7SLl7afSdP-1_tabid-8\" role=\"tabpanel\" data-tab=\"tabid-8\">\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"119\" sourceendlinenumber=\"126\"><code class=\"lang-csharp\">var settings = ConnectionSettings.Create().UseSslConnection(&quot;eventstore.org&quot;, true);\n\nusing (var conn = EventStoreConnection.Create(settings, new IPEndPoint(IPAddress.Loopback, 1115)))\n{\n    conn.ConnectAsync().Wait();\n}\n</code></pre></section>\n<section id=\"tabpanel_7SLl7afSdP-1_tabid-9\" role=\"tabpanel\" data-tab=\"tabid-9\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"130\" sourceendlinenumber=\"132\"><code class=\"lang-bash\">curl -vk --cert &lt;PATH_TO_CERT&gt; --key &lt;PATH_TO_KEY&gt; -i -d &quot;@event.json&quot; &quot;http://127.0.0.1:2113/streams/newstream&quot; -H &quot;Content-Type:application/vnd.eventstore.events+json&quot;\n</code></pre></section>\n</div>\n","type":"Conceptual","source":{"remote":{"path":"server/setting-up-ssl.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"server/setting-up-ssl.md","documentation":{"remote":{"path":"server/setting-up-ssl.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Setting up SSL","rawTitle":"<h1 id=\"setting-up-ssl\" sourcefile=\"server/setting-up-ssl.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">Setting up SSL</h1>","outputFileName":"index.html","wordCount":381.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../","_path":"server/setting-up-ssl/index.html","_key":"server/setting-up-ssl.md","_navRel":"../../toc.html","_tocRel":"../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/server/setting-up-ssl.md/#L1"}