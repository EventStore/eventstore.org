{"conceptual":"\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">Every node in an Event Store cluster can have one of three roles.</p>\n<h2 id=\"master\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"9\" sourceendlinenumber=\"9\">Master</h2>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"11\" sourceendlinenumber=\"11\">A cluster assigns the <code>Master</code> role based on an election process. The node with the <code>Master</code> role ensures that the data are committed and persisted to disk before sending back to the client an acknowledge message. A cluster can only have one Master at a time. If a cluster detects two nodes with a Master role, a new election begins and shuts down the node with less data to restart and re-join the cluster.</p>\n<h2 id=\"slave\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\">Slave</h2>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"15\">A cluster assigns the <code>Slave</code> role based on an election process. A cluster uses one or more nodes with the <code>Slave</code> role to form the quorum, or the majority of nodes necessary to confirm that a write is persisted.</p>\n<h2 id=\"clone\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"17\" sourceendlinenumber=\"17\">Clone</h2>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"19\" sourceendlinenumber=\"19\">If you add nodes to a cluster beyond the number of nodes specified in the <code>ClusterSize</code> setting the cluster automatically assigns them the <code>Clone</code> role.</p>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"21\">A cluster asynchronously replicates data one way to a node with the <code>Clone</code> role. You don&#39;t need to wait for an acknowledgement message as the node is not part of the quorum. For this reason a node with a <code>Clone</code> role does not add much overhead to the other nodes.</p>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"23\" sourceendlinenumber=\"23\">If a cluster loses nodes to take it below <code>ClusterSize</code>, then the cluster can promote a <code>Clone</code> to a <code>Master</code> or <code>Slave</code> role.</p>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">You can control which clones the cluster promotes with the <code>NodePriority</code> <a href=\"~/server/command-line-arguments.md\" data-raw-source=\"[command line option](~/server/command-line-arguments.md)\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">command line option</a>. The default value is <code>0</code>, and the cluster is more likely to promote clones with higher values.</p>\n<div class=\"NOTE\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"27\"><h5>Note</h5><p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"28\" sourceendlinenumber=\"28\">Changing <code>NodePriority</code> doesn&#39;t guarantee that the cluster won&#39;t promote the clone. It&#39;s only one of the criteria that the Election Service considers.</p>\n</div>\n<h2 id=\"non-promotable-clone\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"30\" sourceendlinenumber=\"30\">Non Promotable Clone</h2>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"32\" sourceendlinenumber=\"32\">If you want the cluster to never promote a node with the <code>Clone</code> role, set the <code>--is-promotable</code> <a href=\"~/server/command-line-arguments.md\" data-raw-source=\"[command line option](~/server/command-line-arguments.md)\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"32\" sourceendlinenumber=\"32\">command line option</a> to <code>false</code> when starting a clone node. The node never acknowledges any writes and is never part of the quorum until you change the option to <code>true</code>.</p>\n<p sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"34\" sourceendlinenumber=\"34\">Non promotable clones are best used for data redundancy, or for locally hosted nodes you use for application testing.</p>\n","type":"Conceptual","source":{"remote":{"path":"server/node-roles.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"server/node-roles.md","documentation":{"remote":{"path":"server/node-roles.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Cluster Node Roles","rawTitle":"<h1 id=\"cluster-node-roles\" sourcefile=\"server/node-roles.md\" sourcestartlinenumber=\"5\" sourceendlinenumber=\"5\">Cluster Node Roles</h1>","outputFileName":"index.html","wordCount":350.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../","_path":"server/node-roles/index.html","_key":"server/node-roles.md","_navRel":"../../toc.html","_tocRel":"../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/server/node-roles.md/#L1"}