{"conceptual":"\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"7\" sourceendlinenumber=\"7\">You can use the client API to read events from a stream starting from either end of the stream. There is a method for each direction and one for reading a single event.</p>\n<h2 id=\"methods\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"9\" sourceendlinenumber=\"9\">Methods</h2>\n<!-- TODO: Do the same apply here as in HTTP API -->\n<h3 id=\"read-a-single-event\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"13\" sourceendlinenumber=\"13\">Read a single event</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"15\" sourceendlinenumber=\"17\"><code class=\"lang-csharp\">Task&lt;EventReadResult&gt; ReadEventAsync(string stream, long eventNumber, bool resolveLinkTos);\n</code></pre><h3 id=\"read-a-specific-stream-forwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"19\" sourceendlinenumber=\"19\">Read a specific stream forwards</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"21\" sourceendlinenumber=\"23\"><code class=\"lang-csharp\">Task&lt;StreamEventsSlice&gt; ReadStreamEventsForwardAsync(string stream, long start, int count, bool resolveLinkTos)\n</code></pre><h3 id=\"read-a-specific-stream-backwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"25\" sourceendlinenumber=\"25\">Read a specific stream backwards</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"27\" sourceendlinenumber=\"29\"><code class=\"lang-csharp\">Task&lt;StreamEventsSlice&gt; ReadStreamEventsBackwardAsync(string stream, long start, int count, bool resolveLinkTos)\n</code></pre><h3 id=\"read-all-events-forwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"31\" sourceendlinenumber=\"31\">Read all events forwards</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"33\" sourceendlinenumber=\"35\"><code class=\"lang-csharp\">Task&lt;AllEventsSlice&gt; ReadAllEventsForwardAsync(Position position, int maxCount, bool resolveLinkTos);\n</code></pre><h3 id=\"read-all-events-backwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"37\" sourceendlinenumber=\"37\">Read all events backwards</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"39\" sourceendlinenumber=\"41\"><code class=\"lang-csharp\">Task&lt;AllEventsSlice&gt; ReadAllEventsBackwardAsync(Position position, int maxCount, bool resolveLinkTos);\n</code></pre><div class=\"NOTE\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"43\" sourceendlinenumber=\"43\"><h5>Note</h5><p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"44\" sourceendlinenumber=\"44\">These methods also have an optional parameter which allows you to specify the <code>UserCredentials</code> to use for the request. If you don&#39;t supply any, the default credentials for the <code>EventStoreConnection</code> are used (<a href=\"~/dotnet-api/connecting-to-a-server.md#user-credentials\" data-raw-source=\"[See Connecting to a Server - User Credentials](~/dotnet-api/connecting-to-a-server.md#user-credentials)\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"44\" sourceendlinenumber=\"44\">See Connecting to a Server - User Credentials</a>).</p>\n</div>\n<h2 id=\"streameventsslice\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"46\" sourceendlinenumber=\"46\">StreamEventsSlice</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"48\" sourceendlinenumber=\"48\">The reading methods for individual streams each return a <code>StreamEventsSlice</code>, which is immutable. The available members on <code>StreamEventsSlice</code> are:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"50\" sourceendlinenumber=\"58\">\n<thead>\n<tr>\n<th>Member</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>string Stream</code></td>\n<td>The name of the stream for the slice</td>\n</tr>\n<tr>\n<td><code>ReadDirection ReadDirection</code></td>\n<td>Either <code>ReadDirection.Forward</code> or <code>ReadDirection.Backward</code> depending on which method was used to read</td>\n</tr>\n<tr>\n<td><code>long FromEventNumber</code></td>\n<td>The sequence number of the first event in the stream</td>\n</tr>\n<tr>\n<td><code>long LastEventNumber</code></td>\n<td>The sequence number of the last event in the stream</td>\n</tr>\n<tr>\n<td><code>long NextEventNumber</code></td>\n<td>The sequence number from which the next read should be performed to continue reading the stream</td>\n</tr>\n<tr>\n<td><code>bool IsEndOfStream</code></td>\n<td>Whether this slice contained the end of the stream at the time it was created</td>\n</tr>\n<tr>\n<td><code>ResolvedEvent[] Events</code></td>\n<td>An array of the events read. See the description of how to interpret a <a href=\"~/dotnet-api/reading-events.md#resolvedevent\" data-raw-source=\"[Resolved Events](~/dotnet-api/reading-events.md#resolvedevent)\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"58\" sourceendlinenumber=\"58\">Resolved Events</a> below for more information on this</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"resolvedevent\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"60\" sourceendlinenumber=\"60\">ResolvedEvent</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"62\" sourceendlinenumber=\"62\">When you read events from a stream (or received over a subscription) you receive an instance of the <code>RecordedEvent</code> class packaged inside a <code>ResolvedEvent</code>.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"64\" sourceendlinenumber=\"64\">Event Store supports a special event type called &#39;Link Events&#39;. Think of these events as pointers to an event in another stream.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"66\" sourceendlinenumber=\"66\">In situations where the event you read is a link event, <code>ResolvedEvent</code> allows you to access both the link event itself, as well as the event it points to.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"68\" sourceendlinenumber=\"68\">The members of this class are as follows:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"70\" sourceendlinenumber=\"78\">\n<thead>\n<tr>\n<th>Member</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>RecordedEvent Event</code></td>\n<td>The event, or the resolved link event if this <code>ResolvedEvent</code> is a link event</td>\n</tr>\n<tr>\n<td><code>RecordedEvent Link</code></td>\n<td>The link event if this <code>ResolvedEvent</code> is a link event</td>\n</tr>\n<tr>\n<td><code>RecordedEvent OriginalEvent</code></td>\n<td>Returns the event read or which triggered the subscription. If this <code>ResolvedEvent</code> represents a link event, the link will be the <code>OriginalEvent</code>, otherwise it will be the event</td>\n</tr>\n<tr>\n<td><code>bool IsResolved</code></td>\n<td>Indicates whether this <code>ResolvedEvent</code> is a resolved link event</td>\n</tr>\n<tr>\n<td><code>Position? OriginalPosition</code></td>\n<td>The logical position of the <code>OriginalEvent</code></td>\n</tr>\n<tr>\n<td><code>string OriginalStreamId</code></td>\n<td>The stream name of the <code>OriginalEvent</code></td>\n</tr>\n<tr>\n<td><code>long OriginalEventNumber</code></td>\n<td>The event number in the stream of the <code>OriginalEvent</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"NOTE\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"80\" sourceendlinenumber=\"80\"><h5>Note</h5><p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"81\" sourceendlinenumber=\"81\">To ensure that the Event Store server follows link events when reading, ensure you set the <code>ResolveLinkTos</code> parameter to <code>true</code> when calling read methods.</p>\n</div>\n<h2 id=\"recordedevent\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"83\" sourceendlinenumber=\"83\">RecordedEvent</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"85\" sourceendlinenumber=\"85\"><code>RecordedEvent</code> contains all the data about a specific event. Instances of this class are immutable, and expose the following members:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"87\" sourceendlinenumber=\"97\">\n<thead>\n<tr>\n<th>Member</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>string EventStreamId</code></td>\n<td>The Event Stream this event belongs to</td>\n</tr>\n<tr>\n<td><code>Guid EventId</code></td>\n<td>The Unique Identifier representing this event</td>\n</tr>\n<tr>\n<td><code>long EventNumber</code></td>\n<td>The number of this event in the stream</td>\n</tr>\n<tr>\n<td><code>string EventType</code></td>\n<td>The event type (supplied when writing)</td>\n</tr>\n<tr>\n<td><code>byte[] Data</code></td>\n<td>A byte array representing the data of this event</td>\n</tr>\n<tr>\n<td><code>byte[] Metadata</code></td>\n<td>A byte array representing the metadata associated with this event</td>\n</tr>\n<tr>\n<td><code>bool IsJson</code></td>\n<td>Indicates whether the content was internally marked as json</td>\n</tr>\n<tr>\n<td><code>DateTime Created</code></td>\n<td>A <code>datetime</code> representing when this event was created.</td>\n</tr>\n<tr>\n<td><code>long CreatedEpoch</code></td>\n<td>A long representing the milliseconds since the epoch when the was created.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"read-a-single-event-1\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"99\" sourceendlinenumber=\"99\">Read a single event</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"101\" sourceendlinenumber=\"101\">The <code>ReadEventAsync</code> method reads a single event from a stream at a specified position. This is the simplest case of reading events, but is still useful for situations such as reading the last event in the stream used as a starting point for a subscription. This function accepts three parameters:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"103\" sourceendlinenumber=\"107\">\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>string stream</code></td>\n<td>The stream to read from</td>\n</tr>\n<tr>\n<td><code>long eventNumber</code></td>\n<td>The event number to read (use <code>StreamPosition.End</code> to read the last event in the stream)</td>\n</tr>\n<tr>\n<td><code>bool resolveLinkTos</code></td>\n<td>Determines whether any link events encountered in the stream will be resolved. See the discussion on <a href=\"~/dotnet-api/reading-events.md#resolvedevent\" data-raw-source=\"[Resolved Events](~/dotnet-api/reading-events.md#resolvedevent)\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"107\" sourceendlinenumber=\"107\">Resolved Events</a> for more information on this</td>\n</tr>\n</tbody>\n</table>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"109\" sourceendlinenumber=\"109\">This method returns an instance of <code>EventReadResult</code> which indicates if the read was successful, and if so the <code>ResolvedEvent</code> that was read.</p>\n<h2 id=\"reading-a-stream-forwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"111\" sourceendlinenumber=\"111\">Reading a stream forwards</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"113\" sourceendlinenumber=\"113\">The <code>ReadStreamEventsForwardAsync</code> method reads the requested number of events in the order in which they were originally written to the stream from a nominated starting point in the stream.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"115\" sourceendlinenumber=\"115\">The parameters are:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"117\" sourceendlinenumber=\"122\">\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>string Stream</code></td>\n<td>The name of the stream to read</td>\n</tr>\n<tr>\n<td><code>long start</code></td>\n<td>The earliest event to read (inclusive). For the special case of the start of the stream, you should use the constant <code>StreamPosition.Start</code>.</td>\n</tr>\n<tr>\n<td><code>int count</code></td>\n<td>The maximum number of events to read in this request (assuming that many exist between the start specified and the end of the stream)</td>\n</tr>\n<tr>\n<td><code>bool resolveLinkTos</code></td>\n<td>Determines whether any link events encountered in the stream will be resolved. See the discussion on <a href=\"~/dotnet-api/reading-events.md#resolvedevent\" data-raw-source=\"[Resolved Events](~/dotnet-api/reading-events.md#resolvedevent)\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"122\" sourceendlinenumber=\"122\">Resolved Events</a> for more information on this</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"example-read-an-entire-stream-forwards-from-start-to-end\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"124\" sourceendlinenumber=\"124\">Example: Read an entire stream forwards from start to end</h3>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"126\" sourceendlinenumber=\"126\">This example uses the <code>ReadStreamEventsForwardAsync</code> method in a loop to page through all events in a stream, reading 200 events at a time to build a list of all the events in the stream.</p>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"128\" sourceendlinenumber=\"144\"><code class=\"lang-csharp\">var streamEvents = new List&lt;ResolvedEvent&gt;();\n\nStreamEventsSlice currentSlice;\nvar nextSliceStart = StreamPosition.Start;\ndo\n{\n    currentSlice =\n    _eventStoreConnection.ReadStreamEventsForward(&quot;myStream&quot;, nextSliceStart,\n                                                  200, false)\n                                                  .Result;\n\n    nextSliceStart = currentSlice.NextEventNumber;\n\n    streamEvents.AddRange(currentSlice.Events);\n} while (!currentSlice.IsEndOfStream);\n</code></pre><div class=\"NOTE\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"146\" sourceendlinenumber=\"146\"><h5>Note</h5><p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"147\" sourceendlinenumber=\"147\">It&#39;s unlikely that client code would need to build a list in this manner. It&#39;s far more likely that you would pass events into a left fold to derive the state of some object as of a given event.</p>\n</div>\n<h2 id=\"read-a-stream-backwards\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"149\" sourceendlinenumber=\"149\">Read a stream backwards</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"151\" sourceendlinenumber=\"151\">The <code>ReadStreamEventsBackwardAsync</code> method reads the requested number of events in the reverse order from that in which they were originally written to the stream from a specified starting point.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"153\" sourceendlinenumber=\"153\">The parameters are:</p>\n<table sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"155\" sourceendlinenumber=\"160\">\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>string Stream</code></td>\n<td>The name of the stream to read</td>\n</tr>\n<tr>\n<td><code>long start</code></td>\n<td>The latest event to read (inclusive). For the end of the stream use the constant <code>StreamPosition.End</code></td>\n</tr>\n<tr>\n<td><code>int count</code></td>\n<td>The maximum number of events to read in this request (assuming that many exist between the start specified and the start of the stream)</td>\n</tr>\n<tr>\n<td><code>bool resolveLinkTos</code></td>\n<td>Determines whether any link events encountered in the stream will be resolved. See the discussion on <a href=\"~/dotnet-api/reading-events.md#resolvedevent\" data-raw-source=\"[Resolved Events](~/dotnet-api/reading-events.md#resolvedevent)\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"160\" sourceendlinenumber=\"160\">Resolved Events</a> for more information on this</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"read-all-events\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"162\" sourceendlinenumber=\"162\">Read all events</h2>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"164\" sourceendlinenumber=\"164\">Event Store allows you to read events across all streams using the <code>ReadAllEventsForwardAsync</code> and <code>ReadAllEventsBackwardsAsync</code> methods. These work in the same way as the regular read methods, but use an instance of the global log file <code>Position</code> to reference events rather than the simple integer stream position described previously.</p>\n<p sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"166\" sourceendlinenumber=\"166\">They also return an <code>AllEventsSlice</code> rather than a <code>StreamEventsSlice</code> which is the same except it uses global <code>Position</code>s rather than stream positions.</p>\n<h3 id=\"example-read-all-events-forward-from-start-to-end\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"168\" sourceendlinenumber=\"168\">Example: Read all events forward from start to end</h3>\n<pre sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"170\" sourceendlinenumber=\"185\"><code class=\"lang-csharp\">var allEvents = new List&lt;ResolvedEvent&gt;();\n\nAllEventsSlice currentSlice;\nvar nextSliceStart = Position.Start;\n\ndo\n{\n    currentSlice =\n        connection.ReadAllEventsForwardAsync(nextSliceStart, 200, false).Result;\n\n    nextSliceStart = currentSlice.NextPosition;\n\n    allEvents.AddRange(currentSlice.Events);\n} while (!currentSlice.IsEndOfStream);\n</code></pre>","type":"Conceptual","source":{"remote":{"path":"dotnet-api/reading-events.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"dotnet-api/reading-events.md","documentation":{"remote":{"path":"dotnet-api/reading-events.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Reading Events","rawTitle":"<h1 id=\"reading-events\" sourcefile=\"dotnet-api/reading-events.md\" sourcestartlinenumber=\"5\" sourceendlinenumber=\"5\">Reading Events</h1>","outputFileName":"index.html","wordCount":1185.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../","_path":"dotnet-api/reading-events/index.html","_key":"dotnet-api/reading-events.md","_navRel":"../../toc.html","_tocRel":"../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/dotnet-api/reading-events.md/#L1"}