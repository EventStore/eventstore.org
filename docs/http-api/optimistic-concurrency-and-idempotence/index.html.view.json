{"conceptual":"\n<h2 id=\"idempotency\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">Idempotency</h2>\n<p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">All operations on the HTTP interface are idempotent (unless the expected version is ignored). It is the responsibility of the client to retry operations under failure conditions, ensuring that the event IDs of the events posted are the same as the first attempt.</p>\n<p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">Provided the client maintains this Event Store will treat all operations as idempotent.</p>\n<p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"12\">For example:</p>\n<div class=\"tabGroup\" id=\"tabgroup_YGzdzh4neF\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"34\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF_tabid-1\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF_tabid-1\" data-tab=\"tabid-1\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"14\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF_tabid-2\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF_tabid-2\" data-tab=\"tabid-2\" tabindex=\"-1\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_YGzdzh4neF_tabid-1\" role=\"tabpanel\" data-tab=\"tabid-1\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"16\" sourceendlinenumber=\"18\"><code class=\"lang-bash\">curl -i -d @event.txt &quot;http://127.0.0.1:2113/streams/newstream&quot;\n</code></pre></section>\n<section id=\"tabpanel_YGzdzh4neF_tabid-2\" role=\"tabpanel\" data-tab=\"tabid-2\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"32\"><code class=\"lang-http\">HTTP/1.1 201 Created\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST, GET, PUT, DELETE\nLocation: http://127.0.0.1:2113/streams/newstream444/1\nContent-Type: application/json\nServer: Mono-HTTPAPI/1.0\nDate: Thu, 06 Sep 2012 19:49:37 GMT\nContent-Length: 107\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n</div>\n<!-- TODO: What's this? -->\n<div class=\"tabGroup\" id=\"tabgroup_YGzdzh4neF-1\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"38\" sourceendlinenumber=\"58\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF-1_tabid-3\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF-1_tabid-3\" data-tab=\"tabid-3\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"38\" sourceendlinenumber=\"38\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF-1_tabid-4\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF-1_tabid-4\" data-tab=\"tabid-4\" tabindex=\"-1\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"44\" sourceendlinenumber=\"44\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_YGzdzh4neF-1_tabid-3\" role=\"tabpanel\" data-tab=\"tabid-3\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"40\" sourceendlinenumber=\"42\"><code class=\"lang-bash\">curl -i -d @event.txt &quot;http://127.0.0.1:2113/streams/newstream444&quot;\n</code></pre></section>\n<section id=\"tabpanel_YGzdzh4neF-1_tabid-4\" role=\"tabpanel\" data-tab=\"tabid-4\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"46\" sourceendlinenumber=\"56\"><code class=\"lang-http\">HTTP/1.1 201 Created\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST, GET, PUT, DELETE\nLocation: http://127.0.0.1:2113/streams/newstream444/1\nContent-Type: application/json\nServer: Mono-HTTPAPI/1.0\nDate: Thu, 06 Sep 2012 19:49:37 GMT\nContent-Length: 107\nKeep-Alive: timeout=15,max=100\n</code></pre></section>\n</div>\n<p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"60\" sourceendlinenumber=\"60\">Assuming you were posting to a new stream you would get the event written once (and the stream created). The second event will return as the first but not write again.</p>\n<div class=\"NOTE\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"62\" sourceendlinenumber=\"62\"><h5>Note</h5><p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"63\" sourceendlinenumber=\"63\">This allows the client rule of “if you get an unknown condition, retry” to work.</p>\n</div>\n<p sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"65\" sourceendlinenumber=\"65\">For example:</p>\n<div class=\"tabGroup\" id=\"tabgroup_YGzdzh4neF-2\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"67\" sourceendlinenumber=\"165\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF-2_tabid-5\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF-2_tabid-5\" data-tab=\"tabid-5\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"67\" sourceendlinenumber=\"67\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_YGzdzh4neF-2_tabid-6\" role=\"tab\" aria-controls=\"tabpanel_YGzdzh4neF-2_tabid-6\" data-tab=\"tabid-6\" tabindex=\"-1\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"73\" sourceendlinenumber=\"73\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_YGzdzh4neF-2_tabid-5\" role=\"tabpanel\" data-tab=\"tabid-5\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"69\" sourceendlinenumber=\"71\"><code class=\"lang-bash\">curl -i &quot;http://127.0.0.1:2113/streams/newstream444&quot;\n</code></pre></section>\n<section id=\"tabpanel_YGzdzh4neF-2_tabid-6\" role=\"tabpanel\" data-tab=\"tabid-6\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"75\" sourceendlinenumber=\"163\"><code class=\"lang-http\">HTTP/1.1 200 OK\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST, GET, PUT, DELETE\nContent-Type: application/json\nServer: Mono-HTTPAPI/1.0\nDate: Thu, 06 Sep 2012 19:50:30 GMT\nContent-Length: 2131\nKeep-Alive: timeout=15,max=100\n\n{\n    &quot;title&quot;: &quot;Event stream &#39;newstream444&#39;&quot;,\n    &quot;id&quot;: &quot;http://127.0.0.1:2113/streams/newstream444&quot;,\n    &quot;updated&quot;: &quot;2012-09-06T16:39:44.695643Z&quot;,\n    &quot;author&quot;: {\n        &quot;name&quot;: &quot;EventStore&quot;\n    },\n    &quot;links&quot;: [\n        {\n            &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444&quot;,\n            &quot;relation&quot;: &quot;self&quot;\n        },\n        {\n            &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444&quot;,\n            &quot;relation&quot;: &quot;first&quot;\n        }\n    ],\n    &quot;entries&quot;: [\n        {\n            &quot;title&quot;: &quot;newstream444 #1&quot;,\n            &quot;id&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/1&quot;,\n            &quot;updated&quot;: &quot;2012-09-06T16:39:44.695643Z&quot;,\n            &quot;author&quot;: {\n                &quot;name&quot;: &quot;EventStore&quot;\n            },\n            &quot;summary&quot;: &quot;Entry #1&quot;,\n            &quot;links&quot;: [\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/1&quot;,\n                    &quot;relation&quot;: &quot;edit&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/1?format=text&quot;,\n                    &quot;type&quot;: &quot;text/plain&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/1?format=json&quot;,\n                    &quot;relation&quot;: &quot;alternate&quot;,\n                    &quot;type&quot;: &quot;application/json&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/1?format=xml&quot;,\n                    &quot;relation&quot;: &quot;alternate&quot;,\n                    &quot;type&quot;: &quot;text/xml&quot;\n                }\n            ]\n        },\n        {\n            &quot;title&quot;: &quot;newstream444 #0&quot;,\n            &quot;id&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/0&quot;,\n            &quot;updated&quot;: &quot;2012-09-06T16:39:44.695631Z&quot;,\n            &quot;author&quot;: {\n                &quot;name&quot;: &quot;EventStore&quot;\n            },\n            &quot;summary&quot;: &quot;Entry #0&quot;,\n            &quot;links&quot;: [\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/0&quot;,\n                    &quot;relation&quot;: &quot;edit&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/0?format=text&quot;,\n                    &quot;type&quot;: &quot;text/plain&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/0?format=json&quot;,\n                    &quot;relation&quot;: &quot;alternate&quot;,\n                    &quot;type&quot;: &quot;application/json&quot;\n                },\n                {\n                    &quot;uri&quot;: &quot;http://127.0.0.1:2113/streams/newstream444/event/0?format=xml&quot;,\n                    &quot;relation&quot;: &quot;alternate&quot;,\n                    &quot;type&quot;: &quot;text/xml&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre></section>\n</div>\n<!-- TODO: Still to do -->","type":"Conceptual","source":{"remote":{"path":"http-api/optimistic-concurrency-and-idempotence.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"http-api/optimistic-concurrency-and-idempotence.md","documentation":{"remote":{"path":"http-api/optimistic-concurrency-and-idempotence.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Optimistic Concurrency & Idempotence","rawTitle":"<h1 id=\"optimistic-concurrency--idempotence\" sourcefile=\"http-api/optimistic-concurrency-and-idempotence.md\" sourcestartlinenumber=\"4\" sourceendlinenumber=\"4\">Optimistic Concurrency &amp; Idempotence</h1>","outputFileName":"index.html","wordCount":338.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../","_path":"http-api/optimistic-concurrency-and-idempotence/index.html","_key":"http-api/optimistic-concurrency-and-idempotence.md","_navRel":"../../toc.html","_tocRel":"../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/http-api/optimistic-concurrency-and-idempotence.md/#L1"}