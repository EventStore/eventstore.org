{"conceptual":"\n<p sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"8\" sourceendlinenumber=\"8\">When running in a clustered environment there are times when you only want an operation to happen on the current leader node. A client can fetch information in an eventually consistent fashion by communicating with the servers. The TCP client included with the multi-node version does this.</p>\n<p sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"10\" sourceendlinenumber=\"10\">Over HTTP the <code>RequiresMaster</code> header tells the node that it is not allowed to serve a read or forward a write request. If the node is the leader everything works as normal, if it isn&#39;t it responds with a <code>307</code> temporary redirect to the leader.</p>\n<p sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"12\" sourceendlinenumber=\"12\">Run the below on the master:</p>\n<div class=\"tabGroup\" id=\"tabgroup_-KHeCbQeKv\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"89\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_-KHeCbQeKv_tabid-1\" role=\"tab\" aria-controls=\"tabpanel_-KHeCbQeKv_tabid-1\" data-tab=\"tabid-1\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"14\" sourceendlinenumber=\"14\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_-KHeCbQeKv_tabid-2\" role=\"tab\" aria-controls=\"tabpanel_-KHeCbQeKv_tabid-2\" data-tab=\"tabid-2\" tabindex=\"-1\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"20\" sourceendlinenumber=\"20\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_-KHeCbQeKv_tabid-1\" role=\"tabpanel\" data-tab=\"tabid-1\">\n<pre sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"16\" sourceendlinenumber=\"18\"><code class=\"lang-bash\">curl -i &quot;http://127.0.0.1:32004/streams/newstream&quot; -H &quot;ES-RequireMaster: True&quot;\n</code></pre></section>\n<section id=\"tabpanel_-KHeCbQeKv_tabid-2\" role=\"tabpanel\" data-tab=\"tabid-2\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"22\" sourceendlinenumber=\"87\"><code class=\"lang-http\">HTTP/1.1 200 OK\nCache-Control: max-age=0, no-cache, must-revalidate\nContent-Length: 1296\nContent-Type: application/vnd.eventstore.atom+json; charset: utf-8\nETag: &quot;0;-2060438500&quot;\nVary: Accept\nServer: Microsoft-HTTPAPI/2.0\nAccess-Control-Allow-Methods: POST, DELETE, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER\nAccess-Control-Allow-Origin: *\nDate: Thu, 27 Jun 2013 14:48:37 GMT\n\n{\n  &quot;title&quot;: &quot;Event stream &#39;stream&#39;&quot;,\n  &quot;id&quot;: &quot;http://127.0.0.1:32004/streams/stream&quot;,\n  &quot;updated&quot;: &quot;2013-06-27T14:48:15.2596358Z&quot;,\n  &quot;streamId&quot;: &quot;stream&quot;,\n  &quot;author&quot;: {\n    &quot;name&quot;: &quot;EventStore&quot;\n  },\n  &quot;links&quot;: [\n    {\n      &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream&quot;,\n      &quot;relation&quot;: &quot;self&quot;\n    },\n    {\n      &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/head/backward/20&quot;,\n      &quot;relation&quot;: &quot;first&quot;\n    },\n    {\n      &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/0/forward/20&quot;,\n      &quot;relation&quot;: &quot;last&quot;\n    },\n    {\n      &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/1/forward/20&quot;,\n      &quot;relation&quot;: &quot;previous&quot;\n    },\n    {\n      &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/metadata&quot;,\n      &quot;relation&quot;: &quot;metadata&quot;\n    }\n  ],\n  &quot;entries&quot;: [\n    {\n      &quot;title&quot;: &quot;0@stream&quot;,\n      &quot;id&quot;: &quot;http://127.0.0.1:32004/streams/stream/0&quot;,\n      &quot;updated&quot;: &quot;2013-06-27T14:48:15.2596358Z&quot;,\n      &quot;author&quot;: {\n        &quot;name&quot;: &quot;EventStore&quot;\n      },\n      &quot;summary&quot;: &quot;TakeSomeSpaceEvent&quot;,\n      &quot;links&quot;: [\n        {\n          &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/0&quot;,\n          &quot;relation&quot;: &quot;edit&quot;\n        },\n        {\n          &quot;uri&quot;: &quot;http://127.0.0.1:32004/streams/stream/0&quot;,\n          &quot;relation&quot;: &quot;alternate&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre></section>\n</div>\n<p sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"91\" sourceendlinenumber=\"91\">Run the following on any other node:</p>\n<div class=\"tabGroup\" id=\"tabgroup_-KHeCbQeKv-1\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"93\" sourceendlinenumber=\"113\">\n<ul role=\"tablist\">\n<li role=\"presentation\">\n<a href=\"#tabpanel_-KHeCbQeKv-1_tabid-3\" role=\"tab\" aria-controls=\"tabpanel_-KHeCbQeKv-1_tabid-3\" data-tab=\"tabid-3\" tabindex=\"0\" aria-selected=\"true\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"93\" sourceendlinenumber=\"93\">Request</a>\n</li>\n<li role=\"presentation\">\n<a href=\"#tabpanel_-KHeCbQeKv-1_tabid-4\" role=\"tab\" aria-controls=\"tabpanel_-KHeCbQeKv-1_tabid-4\" data-tab=\"tabid-4\" tabindex=\"-1\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"99\" sourceendlinenumber=\"99\">Response</a>\n</li>\n</ul>\n<section id=\"tabpanel_-KHeCbQeKv-1_tabid-3\" role=\"tabpanel\" data-tab=\"tabid-3\">\n<pre sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"95\" sourceendlinenumber=\"97\"><code class=\"lang-bash\">curl -i &quot;http://127.0.0.1:31004/streams/newstream&quot; -H &quot;ES-RequireMaster: True&quot;\n</code></pre></section>\n<section id=\"tabpanel_-KHeCbQeKv-1_tabid-4\" role=\"tabpanel\" data-tab=\"tabid-4\" aria-hidden=\"true\" hidden=\"hidden\">\n<pre sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"101\" sourceendlinenumber=\"111\"><code class=\"lang-http\">HTTP/1.1 307 Temporary Redirect\nContent-Length: 0\nContent-Type: text/plain; charset: utf-8\nLocation: http://127.0.0.1:32004/streams/stream\nServer: Microsoft-HTTPAPI/2.0\nAccess-Control-Allow-Methods: POST, DELETE, GET, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Requested-With, X-PINGOTHER\nAccess-Control-Allow-Origin: *\nDate: Thu, 27 Jun 2013 14:48:28 GMT\n</code></pre></section>\n</div>\n","type":"Conceptual","source":{"remote":{"path":"http-api/optional-http-headers/requires-master.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"path":"http-api/optional-http-headers/requires-master.md","documentation":{"remote":{"path":"http-api/optional-http-headers/requires-master.md","branch":"feature/stats-REST","repo":"git@github.com:EventStore/docs.geteventstore.com.git"},"startLine":0.0,"endLine":0.0,"isExternal":false},"_docfxVersion":"2.43.3.0","_disableBreadcrumb":true,"_enableSearch":true,"_gitContribute":{"branch":"master"},"_appFaviconPath":"assets/favicon.ico","_appTitle":"Event Store","_appFooter":"&copy; 2019 Event Store Limited","_disableNavbar":false,"_disableToc":true,"_systemKeys":["conceptual","type","source","path","documentation","title","rawTitle","wordCount"],"title":"Optional HTTP Headers: Requires Master","rawTitle":"<h1 id=\"optional-http-headers-requires-master\" sourcefile=\"http-api/optional-http-headers/requires-master.md\" sourcestartlinenumber=\"6\" sourceendlinenumber=\"6\">Optional HTTP Headers: Requires Master</h1>","commercial":true,"outputFileName":"index.html","wordCount":267.0,"_lang":"csharp","_tocPath":"toc.html","_navPath":"toc.html","_rel":"../../../","_path":"http-api/optional-http-headers/requires-master/index.html","_key":"http-api/optional-http-headers/requires-master.md","_navRel":"../../../toc.html","_tocRel":"../../../toc.html","_navKey":"~/toc.yml","_tocKey":"~/toc.yml","__global":{"classesInSubtitle":"Classes","structsInSubtitle":"Structs","interfacesInSubtitle":"Interfaces","enumsInSubtitle":"Enums","delegatesInSubtitle":"Delegates","constructorsInSubtitle":"Constructors","fieldsInSubtitle":"Fields","propertiesInSubtitle":"Properties","methodsInSubtitle":"Methods","eventsInSubtitle":"Events","operatorsInSubtitle":"Operators","eiisInSubtitle":"Explicit Interface Implementations","functionsInSubtitle":"Functions","membersInSubtitle":"Members","improveThisDoc":"Improve this Doc","viewSource":"View Source","inheritance":"Inheritance","inheritedMembers":"Inherited Members","namespace":"Namespace","assembly":"Assembly","syntax":"Syntax","overrides":"Overrides","implements":"Implements","remarks":"Remarks","examples":"Examples","seealso":"See Also","declaration":"Declaration","parameters":"Parameters","typeParameters":"Type Parameters","type":"Type","name":"Name","description":"Description","returns":"Returns","fieldValue":"Field Value","propertyValue":"Property Value","eventType":"Event Type","exceptions":"Exceptions","condition":"Condition","extensionMethods":"Extension Methods","note":"<h5>Note</h5>","warning":"<h5>Warning</h5>","tip":"<h5>Tip</h5>","important":"<h5>Important</h5>","caution":"<h5>Caution</h5>","next":"<h5>Next Steps</h5>","_shared":{}},"docurl":"https://github.com/EventStore/docs.geteventstore.com/blob/master/http-api/optional-http-headers/requires-master.md/#L1"}